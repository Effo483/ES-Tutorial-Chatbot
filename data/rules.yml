version: "2.0"

rules:

- rule: say hi
  steps:
  - intent: greet
  - action: utter_greet

- rule: say hi and give scope
  conversation_start: true
  steps:
  - intent: greet
  - action: utter_greet
  - action: answer_scope

- rule: say bye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: provide scope
  steps:
  - intent: scope
  - action: answer_scope

- rule: call led tutorial handler
  steps:
  - intent: request_led_tutorial
  - action: utter_tutorial_manual
  - action: handĺe_led_tutorial

- rule: next tutorial step
  steps:
  - intent: next
  - action: dispatch_tutorials

- rule: call button tutorial handler
  steps:
  - intent: request_button_tutorial
  - action: utter_tutorial_manual
  - action: handle_button_tutorial

- rule: Submit led form
  condition:
  # Condition that form is active.
  - active_loop: led_tutorial_form
  steps:
  # Form is deactivated
  - action: led_tutorial_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  # The actions we want to run when the form is submitted.
  - action: handĺe_led_tutorial

- rule: Submit button form
  condition:
  # Condition that form is active.
  - active_loop: button_tutorial_form
  steps:
  # Form is deactivated
  - action: button_tutorial_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  # The actions we want to run when the form is submitted.
  - action: handle_button_tutorial


# - rule: out of scope 
#   steps:
#   - intent: out_of_scope
#   - action: utter_out_of_scope

# - rule: Implementation of two stage fallback
#   steps:
#   - intent: nlu_fallback
#   - action: action_two_stage_fallback
#   - active_loop: action_two_stage_fallback

- rule: respond to faq
  steps:
  - intent: faq
  - action: utter_faq